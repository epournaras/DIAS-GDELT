MockGdeltDevice (2018-03-22 - jeromq4)
sensorAgentDescription : dev#7:1
sensorDescription : SensorA
peerTimeoutMs : 720000
gdeltSelectedSubscribePort : 5555
possibleStatesSampleSize : 27
numberPossibleStates : 9

--- Warmup ---
sql : WITH w_data AS (SELECT * FROM gdelt_test WHERE peer = 7 ORDER BY globaleventid DESC LIMIT 27) SELECT * FROM w_data ORDER BY globaleventid ASC
Connected to database
66791 20180319 0 7 50390 2018-03-19 07:03:09 EZ -7.0 
66807 20180319 0 7 50407 2018-03-19 07:04:16 EZ -10.0 
66835 20180319 0 7 50435 2018-03-19 07:04:16 EZ 7.0 
66863 20180319 0 7 50463 2018-03-19 07:04:16 EZ 6.0 
66891 20180319 0 7 50491 2018-03-19 07:04:16 EZ 5.0 
66907 20180319 0 7 50508 2018-03-19 07:05:23 EZ -3.0 
66935 20180319 0 7 50536 2018-03-19 07:05:23 EZ -10.0 
66963 20180319 0 7 50564 2018-03-19 07:05:23 EZ -3.0 
66991 20180319 0 7 50592 2018-03-19 07:05:23 EZ 6.0 
67007 20180322 0 7 50609 2018-03-22 21:56:49 EZ -1.0 
67035 20180322 0 7 50637 2018-03-22 21:56:49 EZ 6.0 
67057 20180322 0 7 50660 2018-03-22 21:57:56 EZ 7.0 
67085 20180322 0 7 50688 2018-03-22 21:57:56 EZ 3.0 
67107 20180322 0 7 50711 2018-03-22 21:59:02 EZ 1.0 
67135 20180322 0 7 50739 2018-03-22 21:59:02 EZ -4.0 
67157 20180322 0 7 50762 2018-03-22 22:00:09 EZ 5.0 
67185 20180322 0 7 50790 2018-03-22 22:00:09 EZ -4.0 
67207 20180322 0 7 50813 2018-03-22 22:01:15 EZ 7.0 
67235 20180322 0 7 50841 2018-03-22 22:01:15 EZ 0.0 
67257 20180322 0 7 50864 2018-03-22 22:02:21 EZ -10.0 
67285 20180322 0 7 50892 2018-03-22 22:02:21 EZ 1.0 
67307 20180322 0 7 50915 2018-03-22 22:03:28 EZ -4.0 
67335 20180322 0 7 50943 2018-03-22 22:03:28 EZ -8.0 
67357 20180322 0 7 50966 2018-03-22 22:04:34 EZ 2.0 
67385 20180322 0 7 50994 2018-03-22 22:04:34 EZ 0.0 
67407 20180322 0 7 51017 2018-03-22 22:05:41 EZ 4.0 
67435 20180322 0 7 51045 2018-03-22 22:05:41 EZ -3.0 
Disconnected from database
Records processed during warmup : 27
Queue size : 27
dataQueue.size for initial possible states : 27
dataQueue.size() : 27
--- computePossibleStates ---
min : -10.000000
max : 7.000000
--- convertStates ---
numberPossibleStates : 9
initial possibleStates : [SensorState: stateID=0({x.1=-10.0}), SensorState: stateID=1({x.1=-7.875}), SensorState: stateID=2({x.1=-5.75}), SensorState: stateID=3({x.1=-3.625}), SensorState: stateID=4({x.1=-1.5}), SensorState: stateID=5({x.1=0.625}), SensorState: stateID=6({x.1=2.75}), SensorState: stateID=7({x.1=4.875}), SensorState: stateID=8({x.1=7.0})]
dataQueue.size() : 27
lastValueInQueue : -3.000000
--- computeSelectedState ---
selectedStateValue : -3.000000
numPossibleStates : 9
selectedState : SensorState: stateID=3({x.1=-3.625})
initial selectedState : SensorState: stateID=3({x.1=-3.625})
Data queue cleared

--- Connecting to Gateway ---
connecting to gateway tcp://localhost:3427...ok
peerAddressRequestMessageJson : {"timeStamp":"2018-03-22 22:06:03","MessageType":"PeerAddressRequest","srcSensorAgent":{"Host":"dev#7","Port":1},"targetSensorAgent":{"Host":"*","Port":0},"targetSensor":{"sensorType":"*","SensorName":"*"}}
sending address request to gateway...ok

waiting for response...ok
incomingMessage : {"peerId":17,"peerFinger":"localhost:51653","timeStamp":"2018-03-22 22:06:03","MessageType":"PeerAddress","srcSensorAgent":{"Host":"localhost","Port":3427},"targetSensorAgent":{"Host":"*","Port":0},"targetSensor":{"sensorType":"*","SensorName":"*"}}
disconnecting...ok
guiMessage : MessageType:PeerAddress|srcSensorAgent:localhost:3427|targetSensorAgent:*:0|targetSensor:*
mtype : PeerAddress

*** Successfully bound with peer 17 (localhost:51653) ***
peerId : 17
peerFinger : localhost:51653

--- Connecting to Peer ---
peerConnectString : tcp://localhost:51653
Connected
sending  'TimeoutMs' message to peer...ok
waiting for response...ok
peer responded with OK ('TimeoutMs')
Timeout sent, set to 720000

### CONNECTED WITH PEER ###

--- startAggregation ---
sending  'Possible States' message to peer...ok
waiting for response...ok
peer responded with OK ('Possible States')
Possible states sent
sending  'Selected State' message to peer...ok
waiting for response...ok
peer responded with OK ('Selected State')
Selected state sent
sending  'Start Aggregation' message to peer...ok
waiting for response...ok
peer responded with OK ('Start Aggregation')
Aggregation start sent

### AGGREGATION STARTED ###
Initial start aggregation sent
aggregationStarted = true

--- Listening to new selected states ---
gdeltConnectString : tcp://127.0.0.1:5555

Msg 1 : {'dt': '2018-03-22 22:06:47', 'peer': 7, 'globaleventid': 51096, 'sqldate': '20180322', 'ActionGeo_CountryCode': 'EZ', 'AvgTone': -8.0}
AvgTone : -8.000000
queueSize : 1
lastValueInQueue : -8.000000
--- computeSelectedState ---
selectedStateValue : -8.000000
numPossibleStates : 9
selectedState : SensorState: stateID=1({x.1=-7.875})
new selectedState : SensorState: stateID=1({x.1=-7.875})
sending  'Selected State' message to peer...ok
waiting for response...ok
peer responded with OK ('Selected State')
New selected state sent
