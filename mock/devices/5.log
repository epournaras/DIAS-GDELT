MockGdeltDevice (2018-03-22 - jeromq4)
sensorAgentDescription : dev#5:1
sensorDescription : SensorA
peerTimeoutMs : 720000
gdeltSelectedSubscribePort : 5555
possibleStatesSampleSize : 27
numberPossibleStates : 9

--- Warmup ---
sql : WITH w_data AS (SELECT * FROM gdelt_test WHERE peer = 5 ORDER BY globaleventid DESC LIMIT 27) SELECT * FROM w_data ORDER BY globaleventid ASC
Connected to database
66789 20180319 0 5 50388 2018-03-19 07:03:09 EI 1.0 
66805 20180319 0 5 50405 2018-03-19 07:04:16 EI 5.0 
66833 20180319 0 5 50433 2018-03-19 07:04:16 EI -7.0 
66861 20180319 0 5 50461 2018-03-19 07:04:16 EI 9.0 
66889 20180319 0 5 50489 2018-03-19 07:04:16 EI -5.0 
66905 20180319 0 5 50506 2018-03-19 07:05:23 EI -1.0 
66933 20180319 0 5 50534 2018-03-19 07:05:23 EI 7.0 
66961 20180319 0 5 50562 2018-03-19 07:05:23 EI -3.0 
66989 20180319 0 5 50590 2018-03-19 07:05:23 EI 5.0 
67005 20180322 0 5 50607 2018-03-22 21:56:49 EI 1.0 
67033 20180322 0 5 50635 2018-03-22 21:56:49 EI -7.0 
67055 20180322 0 5 50658 2018-03-22 21:57:56 EI -4.0 
67083 20180322 0 5 50686 2018-03-22 21:57:56 EI 8.0 
67105 20180322 0 5 50709 2018-03-22 21:59:02 EI -2.0 
67133 20180322 0 5 50737 2018-03-22 21:59:02 EI 3.0 
67155 20180322 0 5 50760 2018-03-22 22:00:09 EI -8.0 
67183 20180322 0 5 50788 2018-03-22 22:00:09 EI 2.0 
67205 20180322 0 5 50811 2018-03-22 22:01:15 EI 5.0 
67233 20180322 0 5 50839 2018-03-22 22:01:15 EI 8.0 
67255 20180322 0 5 50862 2018-03-22 22:02:21 EI -2.0 
67283 20180322 0 5 50890 2018-03-22 22:02:21 EI -9.0 
67305 20180322 0 5 50913 2018-03-22 22:03:28 EI 7.0 
67333 20180322 0 5 50941 2018-03-22 22:03:28 EI 10.0 
67355 20180322 0 5 50964 2018-03-22 22:04:34 EI 1.0 
67383 20180322 0 5 50992 2018-03-22 22:04:34 EI 7.0 
67405 20180322 0 5 51015 2018-03-22 22:05:41 EI 1.0 
67433 20180322 0 5 51043 2018-03-22 22:05:41 EI -9.0 
Disconnected from database
Records processed during warmup : 27
Queue size : 27
dataQueue.size for initial possible states : 27
dataQueue.size() : 27
--- computePossibleStates ---
min : -9.000000
max : 10.000000
--- convertStates ---
numberPossibleStates : 9
initial possibleStates : [SensorState: stateID=0({x.1=-9.0}), SensorState: stateID=1({x.1=-6.625}), SensorState: stateID=2({x.1=-4.25}), SensorState: stateID=3({x.1=-1.875}), SensorState: stateID=4({x.1=0.5}), SensorState: stateID=5({x.1=2.875}), SensorState: stateID=6({x.1=5.25}), SensorState: stateID=7({x.1=7.625}), SensorState: stateID=8({x.1=10.0})]
dataQueue.size() : 27
lastValueInQueue : -9.000000
--- computeSelectedState ---
selectedStateValue : -9.000000
numPossibleStates : 9
selectedState : SensorState: stateID=0({x.1=-9.0})
initial selectedState : SensorState: stateID=0({x.1=-9.0})
Data queue cleared

--- Connecting to Gateway ---
connecting to gateway tcp://localhost:3427...ok
peerAddressRequestMessageJson : {"timeStamp":"2018-03-22 22:06:01","MessageType":"PeerAddressRequest","srcSensorAgent":{"Host":"dev#5","Port":1},"targetSensorAgent":{"Host":"*","Port":0},"targetSensor":{"sensorType":"*","SensorName":"*"}}
sending address request to gateway...ok

waiting for response...ok
incomingMessage : {"peerId":15,"peerFinger":"localhost:64735","timeStamp":"2018-03-22 22:06:01","MessageType":"PeerAddress","srcSensorAgent":{"Host":"localhost","Port":3427},"targetSensorAgent":{"Host":"*","Port":0},"targetSensor":{"sensorType":"*","SensorName":"*"}}
disconnecting...ok
guiMessage : MessageType:PeerAddress|srcSensorAgent:localhost:3427|targetSensorAgent:*:0|targetSensor:*
mtype : PeerAddress

*** Successfully bound with peer 15 (localhost:64735) ***
peerId : 15
peerFinger : localhost:64735

--- Connecting to Peer ---
peerConnectString : tcp://localhost:64735
Connected
sending  'TimeoutMs' message to peer...ok
waiting for response...ok
peer responded with OK ('TimeoutMs')
Timeout sent, set to 720000

### CONNECTED WITH PEER ###

--- startAggregation ---
sending  'Possible States' message to peer...ok
waiting for response...ok
peer responded with OK ('Possible States')
Possible states sent
sending  'Selected State' message to peer...ok
waiting for response...ok
peer responded with OK ('Selected State')
Selected state sent
sending  'Start Aggregation' message to peer...ok
waiting for response...ok
peer responded with OK ('Start Aggregation')
Aggregation start sent

### AGGREGATION STARTED ###
Initial start aggregation sent
aggregationStarted = true

--- Listening to new selected states ---
gdeltConnectString : tcp://127.0.0.1:5555

Msg 1 : {'dt': '2018-03-22 22:06:47', 'peer': 5, 'globaleventid': 51094, 'sqldate': '20180322', 'ActionGeo_CountryCode': 'EI', 'AvgTone': 1.0}
AvgTone : 1.000000
queueSize : 1
lastValueInQueue : 1.000000
--- computeSelectedState ---
selectedStateValue : 1.000000
numPossibleStates : 9
selectedState : SensorState: stateID=4({x.1=0.5})
new selectedState : SensorState: stateID=4({x.1=0.5})
sending  'Selected State' message to peer...ok
waiting for response...ok
peer responded with OK ('Selected State')
New selected state sent
